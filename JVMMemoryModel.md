# 目次
1. プリミティブ型と参照型
2. JVMのメモリ領域
3. スタック領域
4. ヒープ領域
5. メモリの解放
6. メモリモデルの重要性

***

## プリミティブ型と参照型
メモリモデルを理解するためには、プリミティブ型と参照型のメモリ格納方法の違いを理解している必要がある

プリミティブ型
→値そのもの

参照型
→値の格納場所

***
## JVMのメモリ領域
JVMとは？

→Java仮想マシン。Javaのプログラムを解釈して、対象のOSで実行可能な形式のコードに変換して実行

## スタック領域
データをLIFOの構造で保持するデータ構造
主要な操作はプッシュとポップ

起動したメソッド、メソッドの引数、ローカル変数などが格納される

## ヒープ領域
メソッドの処理が終わっても継続して利用する場合に使用されるデータ領域
明示的なメモリ解放が必要

参照型が格納される
ex. 配列、インスタンス

***

## メモリの解放
**ガベージコレクション**

不要となったインスタンスを自動的に削除し、メモリ領域（ヒープ領域）を解放するJVMの機能。

不要とは何か→スタックからの参照が切れたインスタンス、NULLが代入されたインスタンス

ガベージコレクション作動中は他の処理が中断するため、パフォーマンスが低下する。そのため、GCをできるだけ使用しない工夫が必要

***
## メモリモデルの重要性
メモリ関連のトラブルは絶対に避けなければならない

**メモリ関連のエラー**
* StackOverFlowError
* OutOfMemoryError
メモリ関連のエラーは、スタックトレースを確認しても原因特定が難しいため、これらのエラーが発生する起因を理解し、発生させないようにする必要がある。

### StackOverFlowError
スタック領域の上限を超えて値を格納しようとしたときに発生する

例）メソッドの再帰呼び出しで無限ループに陥った

### OutOfMemoryError
ヒープ領域の上限を超えて値を格納しようとしたときに発生する

例）大量データを展開した

***

## 参照型のコピー

### シャローコピー
参照型のデータを保持する配列などをコピーする際、アドレス値のみをコピーする方式。値はコピーしない

→一方のオブジェクトのインスタンスに変更を加えると、もう一方も影響を受ける。

### ディープコピー
参照型のデータを保持する配列などをコピーする際、新しいオブジェクトを作成してそこに値をコピーする方式

→一方のオブジェクトのインスタンスに変更を加えても、もう一方は影響を受けない。
